trigger:
  branches:
    include:
    - main
  paths:
    include:
    - /application/Core/**
resources:
- repo: self
stages:
- stage: BuildStage
  displayName: Build
  dependsOn: 
  jobs:
  - job: BuildStage
    displayName: Build
    pool:
      vmImage: ubuntu-latest
    steps:
    - task: CmdLine@2
      inputs:
        script: |2

          echo "This step would typically call 'make', but any build steps could go here."
          ls -l
- stage: ReleaseStage
  displayName: Release
  dependsOn: BuildStage
  jobs:
  - job: ReleaseStage
    displayName: Release
    pool:
      vmImage: ubuntu-latest
    steps:
    - task: CmdLine@2
      inputs:
        script: |2

          echo "This project has no release artifacts; no-op."
          ls -l
- stage: CellDeployStage
  displayName: Deploy to Cells (Wave 1)
  dependsOn: ReleaseStage
  jobs:
  - job: CellDeployCell1
    displayName: Cell 1 Deploy
    pool:
      vmImage: ubuntu-latest
    steps:
    - task: CmdLine@2
      inputs:
        script: |2

          echo "Here we would run commands to deploy infrastructure via CDK for TerraForm."
          ls -l
